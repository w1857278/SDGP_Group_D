<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin - Manage Users</title>
  <link rel="stylesheet" href="../static/style/bootstrap/bootstrap-grid.css">
  <link rel="stylesheet" href="../static/style/bootstrap/bootstrap-reboot.css">
  <link rel="stylesheet" href="../static/static/bootstrap/bootstrap.css">
  <link rel="stylesheet" href="../static/style/style.css "> 
	<style>
		#header {
			padding-top: 20px;
			width: 100%;
			height: 30px;
			text-align:center;
			position: absolute;
			top: 0;
		}
		.navigation a:hover{
			transition-duration: 0.4s;
			text-decoration:bold;
			font-size: 18px;
			color:rgb(0, 153, 255);
		}
		.navigation {
			width: 100%;
			margin-left: 100px;
		}
		.navigation li {
			display: inline;
			font-weight: bold;
			text-align: center;
			padding-right: 150px;
			overflow: hidden;
		}
		.navigation a {
			position: absolute;
			font-size: 1.1em;
			color: rgb(255, 255, 255);
			text-decoration: none;
			padding-left: 15px;
			padding-right:15px;
			border-radius: 10px;
			text-align: center;
			margin-right:10px;
			width:120px;
		}
		.logo {
			top: 0;
			left: 0;
			position: absolute;
			margin-left: 15px;
			margin-top: 10px;
			color: white;
		}
		#SignUpBtn{
			border: 2px solid white;
			margin-left: 400px;
			padding: 7px;
			margin-top:-7px;
		}

		#SignUpBtn:hover{
			color: white;
			font-size:17px;
			background-color: #0079be;
			border: 2px solid #0079be;
		}
	</style>
</head>
  
<body style="font-size: 15px">
  <div id = "header">
	<div class = "logo">
		<img src = "../static/style/images/UOW_Logo.png" alt="logo" width = "220" height = "50"></a>
	</div>
	<nav>
		<ul class = "navigation">
			<li><a href = " ">Home</a></li>
			<li><a href = " ">Dashboard</a></li>
			<li><a href = " ">Manage</a></li>			
			<li><a href = " ">Booking</a></li>
			<li><a href = " ">Inventory</a></li>
			<li><a href = " " id="SignUpBtn">Sign Up</a></li>
		</ul>
	</nav>
  </div>
  <br>
  <br>
  <br>
  <br>
  <br>
  <div class="Main_Div">
	<div id="blur-background"></div>
	<!-- Remove User warning message -->
	<div id="RemoveUserMenu" class="Menu">
		<br>
		<h3>Are you sure you want to remove this user?</h3>
		<button class="closeBtn">X</button>
		<button id="ConfirmDeleteButton">Yes, Im sure.</button>
	</div>
	
	<!-- Add User Menu -->
	<div id="AddUserMenu" class="Menu">
		<h2>Add User</h2>
		<button class="closeBtn">X</button>
	</div>
	<!-- Table Buttons (Search and Filter) -->
	<div style="width:65%" id="UserTable">
		<div class="TableButtons">
			<form id="form">
				<!-- Search Bar -->
				<input type="search" id="SearchInput" onkeyup="SearchFunction()" placeholder="Search for user name...">
				<!-- Filter Button -->
				<button id="FilterButton">Filter <img class="FilterImage" src="../static/style/images/filter.png" alt="FilterImage"></button>
				<div id="FilterOptions">
					<input type="checkbox" id="AlphabeticalFilter" name="AlphabeticalFilter" value="AlphabeticalFilter">
					<label for="AlphabeticalFilter" style="font-weight: bold">Alphabetically</label><br>
					<input type="checkbox" id="QuantityFilter" name="QuantityFilter" value="QuantityFilter">
					<label for="QuantityFilter" style="font-weight: bold">By Permission</label><br>
				</div>
			</form>
		</div>
		<!-- User Table -->
		<div style="overflow:auto; height: 700px; margin-top: 3px">
			<table style="width:95%; table-layout: fixed" id="InventoryTable">
				<!-- Table Headers-->
				<tr style="background-color: #0079be;">
			  		<th style="width: 50%">User Name</th>
			  		<th style="width: 25%">DoB</th>
			  		<th style="width: 25%">Permission Level</th>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Admin</td>
				</tr>
				<tr>
			  		<td>User Example</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
		      		<td>Example Name</td><td>22/02/22</td><td>Admin</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Staff</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Admin</td>
				</tr>
				<tr>
			  		<td>Example person</td><td>22/02/22</td><td>Staff</td>
				</tr>
				<tr>
			  		<td>Test Person</td><td>22/02/22</td><td>Staff</td>
				</tr>
				<tr>
			 		<td>Name LastName</td><td>22/02/22</td><td>Admin</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Staff</td>
				</tr>
				<tr>
			  		<td>Test Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Staff</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Admin</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Staff</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>Admin</td>
				</tr>
				<tr>
			  		<td>John Smith</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			 		<td>Example Name</td><td>22/02/22</td><td>Staff</td>
				</tr>
				<tr>
			  		<td>Callum Sharp</td><td>22/02/22</td><td>Admin</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>22/02/22</td><td>User</td>
				</tr>
				<tr>
			  		<td>Example Name</td><td>3</td><td>Staff</td>
				</tr>
			</table>
		</div>
	</div>
	<!-- User Info Display -->
	<div style="width:30%" id="UserInfo">
		<h2>User Name:</h2>
		<p style="padding-left:100px">User Name Example</p>
		<h2>User Info: </h2>
		<div style="width:80%" id="InfoBox"  class="disabled">
			<p><strong>User ID:   </strong><span class="attribute" contenteditable="false">  12345</span></p>
			<p><strong>User Name:   </strong><span class="attribute" contenteditable="false">  Example User</span></p>
			<p><strong>DoB:   </strong><span class="attribute" contenteditable="false">  22/02/22</span></p>
			<p><strong>Permission Level:   </strong><span class="attribute" contenteditable="false">  Admin</span></p>
			<p><strong>Password:   </strong><span class="attribute" contenteditable="false">  Password123!</span></p>
		</div>
		<br>
		<!-- Buttons for editing info + adding/removing User -->
		<button id="EditInfoButton">Edit User Information</button>
		<br>
		<button id="RemoveUserButton">Remove User</button>
		<br>
		<button id="AddUserButton">Add new User</button>
	</div>
  </div>
 <script>
	const openAddUser = document.getElementById('AddUserButton');
	const AddUserMenu = document.getElementById('AddUserMenu');
	const openRemoveUser = document.getElementById('RemoveUserButton');
	const RemoveUserMenu = document.getElementById('RemoveUserMenu');
	const blurBackground = document.getElementById('blur-background');
	const closeBtn = document.getElementsByClassName('closeBtn');
	const CfmDelBtn = document.getElementById('ConfirmDeleteButton');

	//Function for close button
	function closeMenus(){
		RemoveUserMenu.style.display = 'none';
		AddUserMenu.style.display = 'none';
		blurBackground.style.display = 'none';
	}

	openAddUser.addEventListener('click', () => {
		blurBackground.style.display = 'block';
  		AddUserMenu.style.display = 'block';
	});

	openRemoveUser.addEventListener('click', () => {
		blurBackground.style.display = 'block';
  		RemoveUserMenu.style.display = 'block';
	});

	//Close button function on menus
	for (let i = 0; i < closeBtn.length; i++) {
  		closeBtn[i].addEventListener('click', () => {
    		closeMenus();
  		});
	}

	//Confirm Delete Device functionality
	CfmDelBtn.addEventListener('click', () => {
    	closeMenus();
	});

	//Functionality for search bar
    function SearchFunction() {
  		// Get the input value and convert it to lowercase
  		var input = document.getElementById("SearchInput");
  		var filter = input.value.toLowerCase();

  		// Get the table and table rows
  		var table = document.getElementById("InventoryTable");
  		var rows = table.getElementsByTagName("tr");

  		// Loop through all table rows, hide those that don't match the search query
  		for (var i = 0; i < rows.length; i++) {
    		var DeviceName = rows[i].getElementsByTagName("td")[0];
    		if (DeviceName) {
      			var DeviceNameValue = DeviceName.textContent || DeviceName.innerText;
      			if (DeviceNameValue.toLowerCase().indexOf(filter) > -1) {
        			rows[i].style.display = "";
      			} else {
        			rows[i].style.display = "none";
      			}
    		}
  		}
	}	

	//Display filter options
	var FilterButton = document.getElementById("FilterButton");
	var FilterOptions = document.getElementById("FilterOptions");

	FilterButton.addEventListener("click", function() {
		event.preventDefault();
  		FilterOptions.style.display = (FilterOptions.style.display === "block") ? "none" : "block";
	});
	
	//Filter option functionality
	

	//Editing Devie Information
	var editButton = document.getElementById("EditInfoButton");
	var InfoBox = document.getElementById("InfoBox");
	var attributes = document.getElementsByClassName("attribute");
	//Gets rid of disabled effects, allows editing of data
	editButton.addEventListener("click", function() {
  		InfoBox.classList.toggle("disabled");
  		InfoBox.classList.toggle("editable");
  		toggleEditable();
	});
	//Goes through every attribute and "unlocks" them for editing
	function toggleEditable() {
  		for (var i = 0; i < attributes.length; i++) {
    		attributes[i].contentEditable = InfoBox.classList.contains("editable");
  		}
	}
 </script>
</body>
</html>
